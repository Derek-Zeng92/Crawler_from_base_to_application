function __uri(t){return t}function define(t,e){var n={};e&&e.call(this,require,n),TY.widget[t]=n}function require(t){return TY.widget[t]||null}var Zepto=function(){function t(t){return null==t?String(t):H[z.call(t)]||"object"}function e(e){return"function"==t(e)}function n(t){return null!=t&&t==t.window}function r(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function i(e){return"object"==t(e)}function o(t){return i(t)&&!n(t)&&Object.getPrototypeOf(t)==Object.prototype}function a(t){return"number"==typeof t.length}function s(t){return E.call(t,function(t){return null!=t})}function u(t){return t.length>0?Y.fn.concat.apply([],t):t}function c(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function l(t){return t in N?N[t]:N[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function f(t,e){return"number"!=typeof e||M[c(t)]?e:e+"px"}function h(t){var e,n;return O[t]||(e=P.createElement(t),P.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),O[t]=n),O[t]}function p(t){return"children"in t?j.call(t.children):Y.map(t.childNodes,function(t){return 1==t.nodeType?t:void 0})}function d(t,e,n){for(x in e)n&&(o(e[x])||X(e[x]))?(o(e[x])&&!o(t[x])&&(t[x]={}),X(e[x])&&!X(t[x])&&(t[x]=[]),d(t[x],e[x],n)):e[x]!==w&&(t[x]=e[x])}function m(t,e){return null==e?Y(t):Y(t).filter(e)}function g(t,n,r,i){return e(n)?n.call(t,r,i):n}function v(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function y(t,e){var n=t.className,r=n&&n.baseVal!==w;return e===w?r?n.baseVal:n:void(r?n.baseVal=e:t.className=e)}function T(t){var e;try{return t?"true"==t||("false"==t?!1:"null"==t?null:/^0/.test(t)||isNaN(e=Number(t))?/^[\[\{]/.test(t)?Y.parseJSON(t):t:e):t}catch(n){return t}}function b(t,e){e(t);for(var n in t.childNodes)b(t.childNodes[n],e)}var w,x,Y,_,C,k,S=[],j=S.slice,E=S.filter,P=window.document,O={},N={},M={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},I=/^\s*<(\w+|!)[^>]*>/,F=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,A=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,D=/^(?:body|html)$/i,L=/([A-Z])/g,R=["val","css","html","text","data","width","height","offset"],$=["after","prepend","before","append"],U=P.createElement("table"),W=P.createElement("tr"),q={tr:P.createElement("tbody"),tbody:U,thead:U,tfoot:U,td:W,th:W,"*":P.createElement("div")},B=/complete|loaded|interactive/,Z=/^[\w-]*$/,H={},z=H.toString,J={},V=P.createElement("div"),K={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},X=Array.isArray||function(t){return t instanceof Array};return J.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var r,i=t.parentNode,o=!i;return o&&(i=V).appendChild(t),r=~J.qsa(i,e).indexOf(t),o&&V.removeChild(t),r},C=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},k=function(t){return E.call(t,function(e,n){return t.indexOf(e)==n})},J.fragment=function(t,e,n){var r,i,a;return F.test(t)&&(r=Y(P.createElement(RegExp.$1))),r||(t.replace&&(t=t.replace(A,"<$1></$2>")),e===w&&(e=I.test(t)&&RegExp.$1),e in q||(e="*"),a=q[e],a.innerHTML=""+t,r=Y.each(j.call(a.childNodes),function(){a.removeChild(this)})),o(n)&&(i=Y(r),Y.each(n,function(t,e){R.indexOf(t)>-1?i[t](e):i.attr(t,e)})),r},J.Z=function(t,e){return t=t||[],t.__proto__=Y.fn,t.selector=e||"",t},J.isZ=function(t){return t instanceof J.Z},J.init=function(t,n){var r;if(!t)return J.Z();if("string"==typeof t)if(t=t.trim(),"<"==t[0]&&I.test(t))r=J.fragment(t,RegExp.$1,n),t=null;else{if(n!==w)return Y(n).find(t);r=J.qsa(P,t)}else{if(e(t))return Y(P).ready(t);if(J.isZ(t))return t;if(X(t))r=s(t);else if(i(t))r=[t],t=null;else if(I.test(t))r=J.fragment(t.trim(),RegExp.$1,n),t=null;else{if(n!==w)return Y(n).find(t);r=J.qsa(P,t)}}return J.Z(r,t)},Y=function(t,e){return J.init(t,e)},Y.extend=function(t){var e,n=j.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach(function(n){d(t,n,e)}),t},J.qsa=function(t,e){var n,i="#"==e[0],o=!i&&"."==e[0],a=i||o?e.slice(1):e,s=Z.test(a);return r(t)&&s&&i?(n=t.getElementById(a))?[n]:[]:1!==t.nodeType&&9!==t.nodeType?[]:j.call(s&&!i?o?t.getElementsByClassName(a):t.getElementsByTagName(e):t.querySelectorAll(e))},Y.contains=function(t,e){return t!==e&&t.contains(e)},Y.type=t,Y.isFunction=e,Y.isWindow=n,Y.isArray=X,Y.isPlainObject=o,Y.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},Y.inArray=function(t,e,n){return S.indexOf.call(e,t,n)},Y.camelCase=C,Y.trim=function(t){return null==t?"":String.prototype.trim.call(t)},Y.uuid=0,Y.support={},Y.expr={},Y.map=function(t,e){var n,r,i,o=[];if(a(t))for(r=0;r<t.length;r++)n=e(t[r],r),null!=n&&o.push(n);else for(i in t)n=e(t[i],i),null!=n&&o.push(n);return u(o)},Y.each=function(t,e){var n,r;if(a(t)){for(n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(r in t)if(e.call(t[r],r,t[r])===!1)return t;return t},Y.grep=function(t,e){return E.call(t,e)},window.JSON&&(Y.parseJSON=JSON.parse),Y.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){H["[object "+e+"]"]=e.toLowerCase()}),Y.fn={forEach:S.forEach,reduce:S.reduce,push:S.push,sort:S.sort,indexOf:S.indexOf,concat:S.concat,map:function(t){return Y(Y.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return Y(j.apply(this,arguments))},ready:function(t){return B.test(P.readyState)&&P.body?t(Y):P.addEventListener("DOMContentLoaded",function(){t(Y)},!1),this},get:function(t){return t===w?j.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return S.every.call(this,function(e,n){return t.call(e,n,e)!==!1}),this},filter:function(t){return e(t)?this.not(this.not(t)):Y(E.call(this,function(e){return J.matches(e,t)}))},add:function(t,e){return Y(k(this.concat(Y(t,e))))},is:function(t){return this.length>0&&J.matches(this[0],t)},not:function(t){var n=[];if(e(t)&&t.call!==w)this.each(function(e){t.call(this,e)||n.push(this)});else{var r="string"==typeof t?this.filter(t):a(t)&&e(t.item)?j.call(t):Y(t);this.forEach(function(t){r.indexOf(t)<0&&n.push(t)})}return Y(n)},has:function(t){return this.filter(function(){return i(t)?Y.contains(this,t):Y(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!i(t)?t:Y(t)},last:function(){var t=this[this.length-1];return t&&!i(t)?t:Y(t)},find:function(t){var e,n=this;return e="object"==typeof t?Y(t).filter(function(){var t=this;return S.some.call(n,function(e){return Y.contains(e,t)})}):1==this.length?Y(J.qsa(this[0],t)):this.map(function(){return J.qsa(this,t)})},closest:function(t,e){var n=this[0],i=!1;for("object"==typeof t&&(i=Y(t));n&&!(i?i.indexOf(n)>=0:J.matches(n,t));)n=n!==e&&!r(n)&&n.parentNode;return Y(n)},parents:function(t){for(var e=[],n=this;n.length>0;)n=Y.map(n,function(t){return(t=t.parentNode)&&!r(t)&&e.indexOf(t)<0?(e.push(t),t):void 0});return m(e,t)},parent:function(t){return m(k(this.pluck("parentNode")),t)},children:function(t){return m(this.map(function(){return p(this)}),t)},contents:function(){return this.map(function(){return j.call(this.childNodes)})},siblings:function(t){return m(this.map(function(t,e){return E.call(p(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return Y.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=h(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var n=e(t);if(this[0]&&!n)var r=Y(t).get(0),i=r.parentNode||this.length>1;return this.each(function(e){Y(this).wrapAll(n?t.call(this,e):i?r.cloneNode(!0):r)})},wrapAll:function(t){if(this[0]){Y(this[0]).before(t=Y(t));for(var e;(e=t.children()).length;)t=e.first();Y(t).append(this)}return this},wrapInner:function(t){var n=e(t);return this.each(function(e){var r=Y(this),i=r.contents(),o=n?t.call(this,e):t;i.length?i.wrapAll(o):r.append(o)})},unwrap:function(){return this.parent().each(function(){Y(this).replaceWith(Y(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=Y(this);(t===w?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return Y(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return Y(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0===arguments.length?this.length>0?this[0].innerHTML:null:this.each(function(e){var n=this.innerHTML;Y(this).empty().append(g(this,t,e,n))})},text:function(t){return 0===arguments.length?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=t===w?"":""+t})},attr:function(t,e){var n;return"string"==typeof t&&e===w?0==this.length||1!==this[0].nodeType?w:"value"==t&&"INPUT"==this[0].nodeName?this.val():!(n=this[0].getAttribute(t))&&t in this[0]?this[0][t]:n:this.each(function(n){if(1===this.nodeType)if(i(t))for(x in t)v(this,x,t[x]);else v(this,t,g(this,e,n,this.getAttribute(t)))})},removeAttr:function(t){return this.each(function(){1===this.nodeType&&v(this,t)})},prop:function(t,e){return t=K[t]||t,e===w?this[0]&&this[0][t]:this.each(function(n){this[t]=g(this,e,n,this[t])})},data:function(t,e){var n=this.attr("data-"+t.replace(L,"-$1").toLowerCase(),e);return null!==n?T(n):w},val:function(t){return 0===arguments.length?this[0]&&(this[0].multiple?Y(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value):this.each(function(e){this.value=g(this,t,e,this.value)})},offset:function(t){if(t)return this.each(function(e){var n=Y(this),r=g(this,t,e,n.offset()),i=n.offsetParent().offset(),o={top:r.top-i.top,left:r.left-i.left};"static"==n.css("position")&&(o.position="relative"),n.css(o)});if(0==this.length)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,n){if(arguments.length<2){var r,i=this[0];if(!i)return;if(r=getComputedStyle(i,""),"string"==typeof e)return i.style[C(e)]||r.getPropertyValue(e);if(X(e)){var o={};return Y.each(X(e)?e:[e],function(t,e){o[e]=i.style[C(e)]||r.getPropertyValue(e)}),o}}var a="";if("string"==t(e))n||0===n?a=c(e)+":"+f(e,n):this.each(function(){this.style.removeProperty(c(e))});else for(x in e)e[x]||0===e[x]?a+=c(x)+":"+f(x,e[x])+";":this.each(function(){this.style.removeProperty(c(x))});return this.each(function(){this.style.cssText+=";"+a})},index:function(t){return t?this.indexOf(Y(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return t?S.some.call(this,function(t){return this.test(y(t))},l(t)):!1},addClass:function(t){return t?this.each(function(e){_=[];var n=y(this),r=g(this,t,e,n);r.split(/\s+/g).forEach(function(t){Y(this).hasClass(t)||_.push(t)},this),_.length&&y(this,n+(n?" ":"")+_.join(" "))}):this},removeClass:function(t){return this.each(function(e){return t===w?y(this,""):(_=y(this),g(this,t,e,_).split(/\s+/g).forEach(function(t){_=_.replace(l(t)," ")}),void y(this,_.trim()))})},toggleClass:function(t,e){return t?this.each(function(n){var r=Y(this),i=g(this,t,n,y(this));i.split(/\s+/g).forEach(function(t){(e===w?!r.hasClass(t):e)?r.addClass(t):r.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return t===w?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return t===w?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),r=D.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(Y(t).css("margin-top"))||0,n.left-=parseFloat(Y(t).css("margin-left"))||0,r.top+=parseFloat(Y(e[0]).css("border-top-width"))||0,r.left+=parseFloat(Y(e[0]).css("border-left-width"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||P.body;t&&!D.test(t.nodeName)&&"static"==Y(t).css("position");)t=t.offsetParent;return t})}},Y.fn.detach=Y.fn.remove,["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});Y.fn[t]=function(i){var o,a=this[0];return i===w?n(a)?a["inner"+e]:r(a)?a.documentElement["scroll"+e]:(o=this.offset())&&o[t]:this.each(function(e){a=Y(this),a.css(t,g(this,i,e,a[t]()))})}}),$.forEach(function(e,n){var r=n%2;Y.fn[e]=function(){var e,i,o=Y.map(arguments,function(n){return e=t(n),"object"==e||"array"==e||null==n?n:J.fragment(n)}),a=this.length>1;return o.length<1?this:this.each(function(t,e){i=r?e:e.parentNode,e=0==n?e.nextSibling:1==n?e.firstChild:2==n?e:null,o.forEach(function(t){if(a)t=t.cloneNode(!0);else if(!i)return Y(t).remove();b(i.insertBefore(t,e),function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},Y.fn[r?e+"To":"insert"+(n?"Before":"After")]=function(t){return Y(t)[e](this),this}}),J.Z.prototype=Y.fn,J.uniq=k,J.deserializeValue=T,Y.zepto=J,Y}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(t){function e(t){var e=this.os={},n=this.browser={},r=t.match(/Web[kK]it[\/]{0,1}([\d.]+)/),i=t.match(/(Android);?[\s\/]+([\d.]+)?/),o=!!t.match(/\(Macintosh\; Intel /),a=t.match(/(iPad).*OS\s([\d_]+)/),s=t.match(/(iPod)(.*OS\s([\d_]+))?/),u=!a&&t.match(/(iPhone\sOS)\s([\d_]+)/),c=t.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),l=c&&t.match(/TouchPad/),f=t.match(/Kindle\/([\d.]+)/),h=t.match(/Silk\/([\d._]+)/),p=t.match(/(BlackBerry).*Version\/([\d.]+)/),d=t.match(/(BB10).*Version\/([\d.]+)/),m=t.match(/(RIM\sTablet\sOS)\s([\d.]+)/),g=t.match(/PlayBook/),v=t.match(/Chrome\/([\d.]+)/)||t.match(/CriOS\/([\d.]+)/),y=t.match(/Firefox\/([\d.]+)/),T=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),b=!v&&t.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),w=b||t.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);(n.webkit=!!r)&&(n.version=r[1]),i&&(e.android=!0,e.version=i[2]),u&&!s&&(e.ios=e.iphone=!0,e.version=u[2].replace(/_/g,".")),a&&(e.ios=e.ipad=!0,e.version=a[2].replace(/_/g,".")),s&&(e.ios=e.ipod=!0,e.version=s[3]?s[3].replace(/_/g,"."):null),c&&(e.webos=!0,e.version=c[2]),l&&(e.touchpad=!0),p&&(e.blackberry=!0,e.version=p[2]),d&&(e.bb10=!0,e.version=d[2]),m&&(e.rimtabletos=!0,e.version=m[2]),g&&(n.playbook=!0),f&&(e.kindle=!0,e.version=f[1]),h&&(n.silk=!0,n.version=h[1]),!h&&e.android&&t.match(/Kindle Fire/)&&(n.silk=!0),v&&(n.chrome=!0,n.version=v[1]),y&&(n.firefox=!0,n.version=y[1]),T&&(n.ie=!0,n.version=T[1]),w&&(o||e.ios)&&(n.safari=!0,o&&(n.version=w[1])),b&&(n.webview=!0),e.tablet=!!(a||g||i&&!t.match(/Mobile/)||y&&t.match(/Tablet/)||T&&!t.match(/Phone/)&&t.match(/Touch/)),e.phone=!(e.tablet||e.ipod||!(i||u||c||p||d||v&&t.match(/Android/)||v&&t.match(/CriOS\/([\d.]+)/)||y&&t.match(/Mobile/)||T&&t.match(/Touch/)))}e.call(t,navigator.userAgent),t.__detect=e}(Zepto),function(t){function e(t){return t._zid||(t._zid=h++)}function n(t,n,o,a){if(n=r(n),n.ns)var s=i(n.ns);return(g[e(t)]||[]).filter(function(t){return!(!t||n.e&&t.e!=n.e||n.ns&&!s.test(t.ns)||o&&e(t.fn)!==e(o)||a&&t.sel!=a)})}function r(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function i(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function o(t,e){return t.del&&!y&&t.e in T||!!e}function a(t){return b[t]||y&&T[t]||t}function s(n,i,s,u,l,h,p){var d=e(n),m=g[d]||(g[d]=[]);i.split(/\s/).forEach(function(e){if("ready"==e)return t(document).ready(s);var i=r(e);i.fn=s,i.sel=l,i.e in b&&(s=function(e){var n=e.relatedTarget;return!n||n!==this&&!t.contains(this,n)?i.fn.apply(this,arguments):void 0}),i.del=h;var d=h||s;i.proxy=function(t){if(t=c(t),!t.isImmediatePropagationStopped()){t.data=u;var e=d.apply(n,t._args==f?[t]:[t].concat(t._args));return e===!1&&(t.preventDefault(),t.stopPropagation()),e}},i.i=m.length,m.push(i),"addEventListener"in n&&n.addEventListener(a(i.e),i.proxy,o(i,p))})}function u(t,r,i,s,u){var c=e(t);(r||"").split(/\s/).forEach(function(e){n(t,e,i,s).forEach(function(e){delete g[c][e.i],"removeEventListener"in t&&t.removeEventListener(a(e.e),e.proxy,o(e,u))})})}function c(e,n){return(n||!e.isDefaultPrevented)&&(n||(n=e),t.each(_,function(t,r){var i=n[t];e[t]=function(){return this[r]=w,i&&i.apply(n,arguments)},e[r]=x}),(n.defaultPrevented!==f?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(e.isDefaultPrevented=w)),e}function l(t){var e,n={originalEvent:t};for(e in t)Y.test(e)||t[e]===f||(n[e]=t[e]);return c(n,t)}var f,h=1,p=Array.prototype.slice,d=t.isFunction,m=function(t){return"string"==typeof t},g={},v={},y="onfocusin"in window,T={focus:"focusin",blur:"focusout"},b={mouseenter:"mouseover",mouseleave:"mouseout"};v.click=v.mousedown=v.mouseup=v.mousemove="MouseEvents",t.event={add:s,remove:u},t.proxy=function(n,r){if(d(n)){var i=function(){return n.apply(r,arguments)};return i._zid=e(n),i}if(m(r))return t.proxy(n[r],n);throw new TypeError("expected function")},t.fn.bind=function(t,e,n){return this.on(t,e,n)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,n,r){return this.on(t,e,n,r,1)};var w=function(){return!0},x=function(){return!1},Y=/^([A-Z]|returnValue$|layer[XY]$)/,_={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(t,e,n){return this.on(e,t,n)},t.fn.undelegate=function(t,e,n){return this.off(e,t,n)},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,n,r,i,o){var a,c,h=this;return e&&!m(e)?(t.each(e,function(t,e){h.on(t,n,r,e,o)}),h):(m(n)||d(i)||i===!1||(i=r,r=n,n=f),(d(r)||r===!1)&&(i=r,r=f),i===!1&&(i=x),h.each(function(f,h){o&&(a=function(t){return u(h,t.type,i),i.apply(this,arguments)}),n&&(c=function(e){var r,o=t(e.target).closest(n,h).get(0);return o&&o!==h?(r=t.extend(l(e),{currentTarget:o,liveFired:h}),(a||i).apply(o,[r].concat(p.call(arguments,1)))):void 0}),s(h,e,i,r,n,c||a)}))},t.fn.off=function(e,n,r){var i=this;return e&&!m(e)?(t.each(e,function(t,e){i.off(t,n,e)}),i):(m(n)||d(r)||r===!1||(r=n,n=f),r===!1&&(r=x),i.each(function(){u(this,e,r,n)}))},t.fn.trigger=function(e,n){return e=m(e)||t.isPlainObject(e)?t.Event(e):c(e),e._args=n,this.each(function(){"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,n)})},t.fn.triggerHandler=function(e,r){var i,o;return this.each(function(a,s){i=l(m(e)?t.Event(e):e),i._args=r,i.target=s,t.each(n(s,e.type||e),function(t,e){return o=e.proxy(i),i.isImmediatePropagationStopped()?!1:void 0})}),o},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return t?this.bind(e,t):this.trigger(e)}}),["focus","blur"].forEach(function(e){t.fn[e]=function(t){return t?this.bind(e,t):this.each(function(){try{this[e]()}catch(t){}}),this}}),t.Event=function(t,e){m(t)||(e=t,t=e.type);var n=document.createEvent(v[t]||"Events"),r=!0;if(e)for(var i in e)"bubbles"==i?r=!!e[i]:n[i]=e[i];return n.initEvent(t,r,!0),c(n)}}(Zepto),function(t){function e(e,n,r){var i=t.Event(n);return t(e).trigger(i,r),!i.isDefaultPrevented()}function n(t,n,r,i){return t.global?e(n||y,r,i):void 0}function r(e){e.global&&0===t.active++&&n(e,null,"ajaxStart")}function i(e){e.global&&!--t.active&&n(e,null,"ajaxStop")}function o(t,e){var r=e.context;return e.beforeSend.call(r,t,e)===!1||n(e,r,"ajaxBeforeSend",[t,e])===!1?!1:void n(e,r,"ajaxSend",[t,e])}function a(t,e,r,i){var o=r.context,a="success";r.success.call(o,t,a,e),i&&i.resolveWith(o,[t,a,e]),n(r,o,"ajaxSuccess",[e,r,t]),u(a,e,r)}function s(t,e,r,i,o){var a=i.context;i.error.call(a,r,e,t),o&&o.rejectWith(a,[r,e,t]),n(i,a,"ajaxError",[r,i,t||e]),u(e,r,i)}function u(t,e,r){var o=r.context;r.complete.call(o,e,t),n(r,o,"ajaxComplete",[e,r]),i(r)}function c(){}function l(t){return t&&(t=t.split(";",2)[0]),t&&(t==Y?"html":t==x?"json":b.test(t)?"script":w.test(t)&&"xml")||"text"}function f(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function h(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=f(e.url,e.data),e.data=void 0)}function p(e,n,r,i){return t.isFunction(n)&&(i=r,r=n,n=void 0),t.isFunction(r)||(i=r,r=void 0),{url:e,data:n,success:r,dataType:i}}function d(e,n,r,i){var o,a=t.isArray(n),s=t.isPlainObject(n);t.each(n,function(n,u){o=t.type(u),i&&(n=r?i:i+"["+(s||"object"==o||"array"==o?n:"")+"]"),!i&&a?e.add(u.name,u.value):"array"==o||!r&&"object"==o?d(e,u,r,n):e.add(n,u)})}var m,g,v=0,y=window.document,T=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,b=/^(?:text|application)\/javascript/i,w=/^(?:text|application)\/xml/i,x="application/json",Y="text/html",_=/^\s*$/;t.active=0,t.ajaxJSONP=function(e,n){if(!("type"in e))return t.ajax(e);var r,i,u=e.jsonpCallback,c=(t.isFunction(u)?u():u)||"jsonp"+ ++v,l=y.createElement("script"),f=window[c],h=function(e){t(l).triggerHandler("error",e||"abort")},p={abort:h};return n&&n.promise(p),t(l).on("load error",function(o,u){clearTimeout(i),t(l).off().remove(),"error"!=o.type&&r?a(r[0],p,e,n):s(null,u||"error",p,e,n),window[c]=f,r&&t.isFunction(f)&&f(r[0]),f=r=void 0}),o(p,e)===!1?(h("abort"),p):(window[c]=function(){r=arguments},l.src=e.url.replace(/\?(.+)=\?/,"?$1="+c),y.head.appendChild(l),e.timeout>0&&(i=setTimeout(function(){h("timeout")},e.timeout)),p)},t.ajaxSettings={type:"GET",beforeSend:c,success:c,error:c,complete:c,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:x,xml:"application/xml, text/xml",html:Y,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var n=t.extend({},e||{}),i=t.Deferred&&t.Deferred();for(m in t.ajaxSettings)void 0===n[m]&&(n[m]=t.ajaxSettings[m]);r(n),n.crossDomain||(n.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(n.url)&&RegExp.$2!=window.location.host),n.url||(n.url=window.location.toString()),h(n),n.cache===!1&&(n.url=f(n.url,"_="+Date.now()));var u=n.dataType,p=/\?.+=\?/.test(n.url);if("jsonp"==u||p)return p||(n.url=f(n.url,n.jsonp?n.jsonp+"=?":n.jsonp===!1?"":"callback=?")),t.ajaxJSONP(n,i);var d,v=n.accepts[u],y={},T=function(t,e){y[t.toLowerCase()]=[t,e]},b=/^([\w-]+:)\/\//.test(n.url)?RegExp.$1:window.location.protocol,w=n.xhr(),x=w.setRequestHeader;if(i&&i.promise(w),n.crossDomain||T("X-Requested-With","XMLHttpRequest"),T("Accept",v||"*/*"),(v=n.mimeType||v)&&(v.indexOf(",")>-1&&(v=v.split(",",2)[0]),w.overrideMimeType&&w.overrideMimeType(v)),(n.contentType||n.contentType!==!1&&n.data&&"GET"!=n.type.toUpperCase())&&T("Content-Type",n.contentType||"application/x-www-form-urlencoded"),n.headers)for(g in n.headers)T(g,n.headers[g]);if(w.setRequestHeader=T,w.onreadystatechange=function(){if(4==w.readyState){w.onreadystatechange=c,clearTimeout(d);var e,r=!1;if(w.status>=200&&w.status<300||304==w.status||0==w.status&&"file:"==b){u=u||l(n.mimeType||w.getResponseHeader("content-type")),e=w.responseText;try{"script"==u?(1,eval)(e):"xml"==u?e=w.responseXML:"json"==u&&(e=_.test(e)?null:t.parseJSON(e))}catch(o){r=o}r?s(r,"parsererror",w,n,i):a(e,w,n,i)}else s(w.statusText||null,w.status?"error":"abort",w,n,i)}},o(w,n)===!1)return w.abort(),s(null,"abort",w,n,i),w;if(n.xhrFields)for(g in n.xhrFields)w[g]=n.xhrFields[g];var Y="async"in n?n.async:!0;w.open(n.type,n.url,Y,n.username,n.password);for(g in y)x.apply(w,y[g]);return n.timeout>0&&(d=setTimeout(function(){w.onreadystatechange=c,w.abort(),s(null,"timeout",w,n,i)},n.timeout)),w.send(n.data?n.data:null),w},t.get=function(){return t.ajax(p.apply(null,arguments))},t.post=function(){var e=p.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=p.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,n,r){if(!this.length)return this;var i,o=this,a=e.split(/\s/),s=p(e,n,r),u=s.success;return a.length>1&&(s.url=a[0],i=a[1]),s.success=function(e){o.html(i?t("<div>").html(e.replace(T,"")).find(i):e),u&&u.apply(o,arguments)},t.ajax(s),this};var C=encodeURIComponent;t.param=function(t,e){var n=[];return n.add=function(t,e){this.push(C(t)+"="+C(e))},d(n,t,e),n.join("&").replace(/%20/g,"+")}}(Zepto),function(t){t.fn.serializeArray=function(){var e,n=[];return t([].slice.call(this.get(0).elements)).each(function(){e=t(this);var r=e.attr("type");"fieldset"!=this.nodeName.toLowerCase()&&!this.disabled&&"submit"!=r&&"reset"!=r&&"button"!=r&&("radio"!=r&&"checkbox"!=r||this.checked)&&n.push({name:e.attr("name"),value:e.val()})}),n},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},t.fn.submit=function(e){if(e)this.bind("submit",e);else if(this.length){var n=t.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),function(t,e){function n(t){return t.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function r(t){return i?i+t:t.toLowerCase()}var i,o,a,s,u,c,l,f,h,p,d="",m={Webkit:"webkit",Moz:"",O:"o"},g=window.document,v=g.createElement("div"),y=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,T={};t.each(m,function(t,n){return v.style[t+"TransitionProperty"]!==e?(d="-"+t.toLowerCase()+"-",i=n,!1):void 0}),o=d+"transform",T[a=d+"transition-property"]=T[s=d+"transition-duration"]=T[c=d+"transition-delay"]=T[u=d+"transition-timing-function"]=T[l=d+"animation-name"]=T[f=d+"animation-duration"]=T[p=d+"animation-delay"]=T[h=d+"animation-timing-function"]="",t.fx={off:i===e&&v.style.transitionProperty===e,speeds:{_default:400,fast:200,slow:600},cssPrefix:d,transitionEnd:r("TransitionEnd"),animationEnd:r("AnimationEnd")},t.fn.animate=function(n,r,i,o,a){return t.isFunction(r)&&(o=r,i=e,r=e),t.isFunction(i)&&(o=i,i=e),t.isPlainObject(r)&&(i=r.easing,o=r.complete,a=r.delay,r=r.duration),r&&(r=("number"==typeof r?r:t.fx.speeds[r]||t.fx.speeds._default)/1e3),a&&(a=parseFloat(a)/1e3),this.anim(n,r,i,o,a)},t.fn.anim=function(r,i,d,m,g){var v,b,w,x={},Y="",_=this,C=t.fx.transitionEnd,k=!1;if(i===e&&(i=t.fx.speeds._default/1e3),g===e&&(g=0),t.fx.off&&(i=0),"string"==typeof r)x[l]=r,x[f]=i+"s",x[p]=g+"s",x[h]=d||"linear",C=t.fx.animationEnd;else{b=[];for(v in r)y.test(v)?Y+=v+"("+r[v]+") ":(x[v]=r[v],b.push(n(v)));Y&&(x[o]=Y,b.push(o)),i>0&&"object"==typeof r&&(x[a]=b.join(", "),x[s]=i+"s",x[c]=g+"s",x[u]=d||"linear")}return w=function(e){if("undefined"!=typeof e){if(e.target!==e.currentTarget)return;t(e.target).unbind(C,w)}else t(this).unbind(C,w);k=!0,t(this).css(T),m&&m.call(this)},i>0&&(this.bind(C,w),setTimeout(function(){k||w.call(_)},1e3*i+25)),this.size()&&this.get(0).clientLeft,this.css(x),0>=i&&setTimeout(function(){_.each(function(){w.call(this)})},0),this},v=null}(Zepto),window.Zepto=Zepto,"$"in window||(window.$=Zepto),window.jQuery=Zepto,!function(t){t.extend(t,{contains:function(t,e){return t.compareDocumentPosition?!!(16&t.compareDocumentPosition(e)):t!==e&&t.contains(e)}})}(Zepto),function(t,e){t.extend(t,{toString:function(t){return Object.prototype.toString.call(t)},slice:function(t,e){return Array.prototype.slice.call(t,e||0)},later:function(t,e,n,r,i){return window["set"+(n?"Interval":"Timeout")](function(){t.apply(r,i)},e||0)},parseTpl:function(t,e){var n="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+t.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/<%=([\s\S]+?)%>/g,function(t,e){return"',"+e.replace(/\\'/g,"'")+",'"}).replace(/<%([\s\S]+?)%>/g,function(t,e){return"');"+e.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",r=new Function("obj",n);return e?r(e):r},throttle:function(n,r,i){function o(){function t(){s=Date.now(),r.apply(u,l)}function o(){a=e}var u=this,c=Date.now()-s,l=arguments;i&&!a&&t(),a&&clearTimeout(a),i===e&&c>n?t():a=setTimeout(i?o:t,i===e?n-c:n)}var a,s=0;return"function"!=typeof r&&(i=r,r=n,n=250),o._zid=r._zid=r._zid||t.proxy(r)._zid,o},debounce:function(n,r,i){return r===e?t.throttle(250,n,!1):t.throttle(n,r,i===e?!1:i!==!1)}}),t.each("String Boolean RegExp Number Date Object Null Undefined".split(" "),function(r,i){var o;if(!("is"+i in t)){switch(i){case"Null":o=function(t){return null===t};break;case"Undefined":o=function(t){return t===e};break;default:o=function(t){return new RegExp(i+"]","i").test(n(t))}}t["is"+i]=o}});var n=t.toString}(Zepto),function(t){var e=navigator.userAgent,n=navigator.appVersion,r=t.browser;t.extend(r,{qq:/qq/i.test(e),uc:/UC/i.test(e)||/UC/i.test(n)}),r.uc=r.uc||!r.qq&&!r.chrome&&!r.firefox&&!/safari/i.test(e);try{r.version=r.uc?n.match(/UC(?:Browser)?\/([\d.]+)/)[1]:r.qq?e.match(/MQQBrowser\/([\d.]+)/)[1]:r.version}catch(i){}t.support=t.extend(t.support||{},{orientation:!(r.uc||parseFloat(t.os.version)<5&&(r.qq||r.chrome))&&!(t.os.android&&parseFloat(t.os.version)>3)&&"orientation"in window&&"onorientationchange"in window,touch:"ontouchend"in document,cssTransitions:"WebKitTransitionEvent"in window,has3d:"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix})}(Zepto),function(t){function e(){t(window).on("scroll",t.debounce(80,function(){t(document).trigger("scrollStop")},!1))}function n(){t(window).off("scroll"),e()}t(document).ready(function(){var e,n,r=function(){var t=document.documentElement;return t.clientWidth/Math.max(t.clientHeight,320)<1.1?"portrait":"landscape"},i=r(),o=function(){n=20,clearInterval(e),e=t.later(function(){var o=r();i!==o?(i=o,clearInterval(e),t(window).trigger("ortchange")):--n&&clearInterval(e)},50,!0)};t(window).bind(t.support.orientation?"orientationchange":"resize",t.debounce(o))}),e(),t(window).on("pageshow",function(e){e.persisted&&t(document).off("touchstart",n).one("touchstart",n)})}(Zepto);var TY=TY||{};!function(){var t=TY;TY=jQuery.noConflict?jQuery.noConflict():jQuery,TY.extend(TY,t),TY.extend(TY,{version:"1.0",debug:"release",isDebuger:function(){var t="";return t="//static.tianyaui.com/global/ty2.0/core/core_interface.js".replace("/core/core_interface.js",""),"https:"==location.protocol,t}})}(),TY.extend(TY,{ns:function(t,e){for(var n=t.split("."),r=window,i=0;i<n.length;i++)r[n[i]]||(r[n[i]]=i==n.length-1&&e?e:{}),r=r[n[i]];return r},namespace:function(){var t,e,n,r=arguments,i=null,o=r[r.length-1];if(1==o)for(t=0;t<r.length-1;++t)for(n=r[t].split("."),i=TY,e="TY"==n[0]?1:0;e<n.length;++e)i[n[e]]=i[n[e]]||{},i=i[n[e]];else for(t=0;t<r.length;++t)for(n=r[t].split("."),i=TY,e="TY"==n[0]?1:0;e<n.length;++e)i[n[e]]=i[n[e]]||{},i=i[n[e]];return i}}),TY.console={log:function(t){"undefined"!=typeof console&&console.log(t)
}},function(){try{var t=navigator.userAgent.toLowerCase(),e=null,n=0;if(e=t.match(/msie ([\d.]+)/),n=e?parseInt(e[1],10):0,6==n)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(r){}}catch(r){}}(),String.prototype.TY_trim=function(t){return t=t||/(^\s+)|(\s+$)/g,this.replace(t,"")},String.prototype.TY_format=function(){var t=arguments,e=1==t.length&&"object"==typeof t[0]?t[0]:t;return this.replace(/\{([\d\w]+)\}/g,function(t,n){return void 0!=e[n]?e[n].toString():""})},String.prototype.TY_toJson=function(t,e,n){n=TY.isFunction(n)?n:function(t){return t},t=t||"&",e=e||"=";for(var r=this.split(t),i=[],o=0,a=r.length;a>o;o++)""!=r[o].trim(),i.push(r[o]);var s={};return TY.each(i,function(t,r){var i=r.split(e);void 0!=i[1]&&(s[i[0]]=n(i[1]))}),s},String.prototype.TY_html=function(t){var e=["&","&amp;","<","&lt;",">","&gt;"," ","&nbsp;",'"',"&quot;","'","&#039;","\\r","<br>","\\n","<br>","/","&#047;","\\\\","&#092;"];t&&e.reverse();for(var n=0,r=this;n<e.length;n+=2)r=r.replace(new RegExp(e[n],"g"),e[1+n]);return r},String.prototype.TY_CNLength=function(t){t=t||2;for(var e=0,n=0,r=this.length;r>n;n++)this.charCodeAt(n)>127?e+=t:e++;return e},String.prototype.TY_removeTag=function(){var t=/<(\w+)[^>]*\/?>([^<]*)(?:<\/\1>|)/g;return this.replace(t,"$2")},String.prototype.ltrim=function(){return this.TY_trim(/^(\s*)/,"")},String.prototype.rtrim=function(){return this.TY_trim(/\s*$/,"")},String.prototype.leftFix=function(t,e){for(var n=this;n.length<e;)n=t+n;return n},String.prototype.getCNlen=function(){return this.TY_CNLength(2)},String.prototype.subStringCn=function(t,e,n){var r,i=0,o=this,a="..",n=n||2;e&&(e===!0?(t-=n,e=a):"string"==TY.type(e)&&(a=e.TY_removeTag(),r=a.TY_CNLength(n),t-=r));for(var s=0;s<o.length;s++)if(i+=o.charCodeAt(s)>127?n:1,i>t){o=o.slice(0,s),e&&(o+=e);break}return o.toString()},String.prototype.encodeTag=function(){return this.TY_html()},String.prototype.trim=function(){return this.TY_trim()},Date.prototype.TY_format=Date.prototype.format=function(){var t=arguments;if(1==t.length&&"string"==typeof t[0]){var e=t[0],n=/(yyyy|yy|mm|m|dd|d|hh|h|MM|M|ss|s|w|W)/gi,r=this,i={yyyy:r.getFullYear(),yy:r.getFullYear().toString().match(/\d{2}$/),mm:r.getMonth()+1<10?"0"+(r.getMonth()+1):r.getMonth()+1,m:r.getMonth()+1,dd:r.getDate()<10?"0"+r.getDate():r.getDate(),d:r.getDate(),hh:r.getHours()<10?"0"+r.getHours():r.getHours(),h:r.getHours(),MM:r.getMinutes()<10?"0"+r.getMinutes():r.getMinutes(),M:r.getMinutes(),ss:r.getSeconds()<10?"0"+r.getSeconds():r.getSeconds(),s:r.getSeconds(),w:r.getDay()+1,W:["日","一","二","三","四","五","六"][r.getDay()]};return e=e.replace(n,function(){return i[arguments[1]]})}},Array.prototype.TY_indexOf=function(){var t=this,e=arguments[0],n=arguments[1]||0,r=t.length;for(n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n;return-1},TY.browser&&TY.browser.msie&&"undefined"==typeof Array.prototype.indexOf&&(Array.prototype.indexOf=function(){var t=this,e=arguments[0],n=arguments[1]||0,r=t.length;for(n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n;return-1}),Array.prototype.TY_unique=function(t){if(!TY.isArray(this))return this;var e,n=1,r=t&&"undefined"!=typeof this.slice?this.slice(0):this;for(r.sort();e=r[n];n++)r[n]==r[n-1]&&r.splice(n--,1);return r},Array.prototype.TY_remove=function(t,e){if(!TY.isArray(this))return this;for(var n=e?this.slice(0):this,r=0,i=n.length;i>r;r++)t==n[r]&&(n.splice(r--,1),i--);return n},"undefined"==typeof Array.prototype.uniq&&(Array.prototype.uniq=function(){return TY.isArray(this)?this.TY_unique():this}),"undefined"==typeof Array.prototype.remove&&(Array.prototype.remove=function(t){return TY.isArray(this)?void this.TY_remove(t):this}),TY.param=TY.param||{},TY.extend(TY.param,{getHrefParam:function(t){var e=t||location.href,n=e.indexOf("?"),r=e.indexOf("#");return-1!=r&&(e=e.substring(0,r)),e.substring(n+1).TY_toJson("&","=",function(t){try{return decodeURIComponent(t)}catch(e){}})},getHashParam:function(t){var e=t||location.href,n=e.indexOf("#");return e.substring(n+1).TY_toJson("&","=",function(t){try{return decodeURIComponent(t)}catch(e){}})},makeJson2Str:function(t,e,n,r){var i=[];e=e||"&",n=n||"=",r=TY.isFunction(r)?r:function(t){return t};for(var o in t)i.push(o+n+r(t[o]));return i.join(e)},makeStr2Json:function(t,e,n,r){return t.TY_toJson(e,n,r)},URI:function(t){if("string"!==TY.type(t))return null;t.indexOf("://")<1&&(t=location.protocol+"//"+location.host+(0==t.indexOf("/")?"":location.pathname.substr(0,location.pathname.lastIndexOf("/")+1))+t);var e=t.split("://"),n={};if("array"==TY.type(e)&&e.length>1&&/^[a-zA-Z]+$/.test(e[0])){n.protocol=e[0].toLowerCase();var r=e[1].split("/");if("array"==TY.type(r)){n.host=r[0],n.pathname="/"+r.slice(1).join("/").replace(/(\?|\#).+/i,""),n.href=t;var i=e[1].lastIndexOf("?"),o=e[1].lastIndexOf("#");return n.search=i>=0?e[1].substring(i):"",n.hash=o>=0?e[1].substring(o):"",n.search.length>0&&n.hash.length>0&&(n.search=i>o?"":e[1].substring(i,o)),n}return null}return null}}),TY.cookie={},TY.extend(TY.cookie,{domain:function(){return document.domain},set:function(t,e,n,r,i,o){if(i){var a=new Date,s=new Date;s.setTime(a.getTime()+864e5*i)}return document.cookie=t+"="+e+"; "+(i?"expires="+s.toGMTString()+"; ":"")+(r?"path="+r+"; ":"path=/; ")+(n?"domain="+n+";":"domain="+this.domain()+";")+(o?"; secure":""),!0},get:function(t){var e=new RegExp("(?:^|;+|\\s+)"+t+"=([^;]*)"),n=document.cookie.match(e);return n?n[1]:null},del:function(t,e,n){document.cookie=t+"=; expires=Mon, 26 Jul 1997 05:00:00 GMT; "+(n?"path="+n+"; ":"path=/; ")+(e?"domain="+e+";":"domain="+this.domain()+";")},setPart:function(t,e,n,r,i,o,a){var s=this.get(t)||"",u=s.TY_toJson();u[e]=n,this.set(t,TY.param.makeJson2Str(u),r,i,o,a)},getPart:function(t,e){var n=this.get(t),r=n?n.TY_toJson():{};return"undefined"!=typeof r[e]?r[e]:null}}),-1!=document.domain.indexOf("tianya.cn")&&(document.domain="tianya.cn");var __global={cityNames:["北京","上海","天津","重庆","石家庄","保定","唐山","太原","大同","晋城","呼和浩特","包头","沈阳","大连","长春","四平","吉林","哈尔滨","佳木斯","南京","苏州","扬州","无锡","徐州","杭州","温州","绍兴","宁波","合肥","芜湖","安庆","马鞍山","福州","厦门","泉州","南昌","景德镇","赣州","九江","济南","青岛","淄博","威海","郑州","开封","洛阳","安阳","南阳","武汉","宜昌","襄樊","长沙","株洲","常德","岳阳","广州","深圳","佛山","潮州","东莞","南宁","柳州","桂林","海口","三亚","儋州","文昌","乐东","五指山","琼海","万宁","定安","昌江","临高","澄迈","东方","陵水","保亭","屯昌","琼中","白沙","成都","自贡","绵阳","乐山","贵阳","遵义","六盘水","昆明","拉萨","西安","宝鸡","咸阳","兰州","天水","乌鲁木齐","台湾","香港","澳门","西宁","银川","张家口","秦皇岛","沧州","邢台","承德","廊坊","邯郸","衡水","长治","运城","朔州","晋中","吕梁","临汾","忻州","阳泉","通辽","鄂尔多斯","呼伦贝尔","巴彦淖尔市","乌海","兴安盟","赤峰","阿拉善盟","锡林郭勒盟","乌兰察布市","朝阳","本溪","抚顺","鞍山","盘锦","铁岭","锦州","葫芦岛","丹东","阜新","营口","辽阳","通化","白山","延边朝鲜族自治州","辽源","松原","白城","齐齐哈尔","绥化","大兴安岭地区","伊春","鹤岗","双鸭山","黑河","鸡西","大庆","牡丹江","七台河","常州","连云港","南通","盐城","宿迁","泰州","镇江","淮安","丽水","衢州","舟山","台州","湖州","嘉兴","金华","淮北","淮南","亳州","池州","六安","阜阳","蚌埠","滁州","铜陵","宿州","黄山","宣城","巢湖","南平","漳州","龙岩","宁德","莆田","三明","吉安","宜春","抚州","新余","萍乡","上饶","鹰潭","德州","莱芜","聊城","枣庄","潍坊","泰安","东营","烟台","临沂","日照","滨州","荷泽","济宁","许昌","三门峡","平顶山","驻马店","周口","濮阳","鹤壁","济源","焦作","商丘","漯河","新乡","信阳","鄂州","咸宁","孝感","荆州","十堰","黄冈","黄石","恩施土家族苗族自治州","荆门","随州","益阳","永州","郴州","湘西土家族苗族自治州","邵阳","怀化","娄底","湘潭","张家界","衡阳","清远","河源","揭阳","汕头","珠海","肇庆","梅州","中山","云浮","江门","惠州","茂名","韶关","汕尾","湛江","阳江","河池","崇左","钦州","玉林","梧州","贺州","贵港","北海","防城港","百色","来宾","雅安","凉山彝族自治州","宜宾","泸州","资阳","阿坝藏族羌族自治州","甘孜藏族自治州","德阳","攀枝花","广元","内江","巴中","眉山","达州","南充","遂宁","广安","毕节","黔南布依族苗族自治州","黔东南苗族侗族自治州","黔西南布依族苗族自治州","铜仁","安顺","迪庆藏族自治州","文山壮族苗族自治州","德宏德宏傣族景颇族自治州","临沧","玉溪","西双版纳傣族自治州","楚雄彝族自治州","思茅","保山","昭通","曲靖","红河哈尼族彝族自治州","大理大理白族自治州","怒江傈僳族自治州","丽江","日喀则","林芝","阿里","那曲","昌都","山南","榆林","渭南","安康","汉中","商洛","铜川","延安","白银","庆阳","金昌","武威","陇南","甘南藏族自治州","酒泉","张掖","临夏回族自治州","平凉","定西","海西蒙古族藏族自治州","玉树藏族自治州","果洛藏族自治州","海南藏族自治州","海北藏族自治州","黄南藏族自治州","海东","石嘴山","固原","吴忠","阿克苏","塔城","伊犁哈萨克自治州","阿勒泰","巴音郭楞蒙古自治州","克孜勒苏柯尔克孜自治州","克拉玛依","石河子","昌吉回族自治州","伊犁哈萨克自治州","喀什","和田","哈密","博尔塔拉蒙古自治州","吐鲁番","伊吾","顺德"],setCookie:function(t,e,n,r,i,o){null===e?__global.setCookieNoEscape(t,null,n,r,i,o):__global.setCookieNoEscape(t,escape(e),n,r,i,o)},setCookieNoEscape:function(t,e,n,r,i,o){TY.cookie.set(t,e,i,r,n,o)},setPartCookieNoEscape:function(t,e,n,r,i,o,a){return TY.cookie.setPart(t,e,n,o,i,r,a),null},getCookie:function(t){var e=TY.cookie.get(t)||null;return e?unescape(e):null},setPartCookie:function(t,e,n,r,i,o,a){return TY.cookie.setPart(t,e,escape(n),o,i,r,a),null},getPartCookie:function(t,e){var n=__global.getCookie(t),r="",i=n?n.TY_toJson():{};return r=i[e],r?unescape(r):null},getParameter:function(t){for(var e=document.getElementsByTagName("script"),n=e.length,r=0;n>r;r++)if(e[r].src&&e[r].src.match(/global\.js(\?.*)?$/)){var i=new RegExp("(^|)"+t+"=([^&]*)(&|$)","gi").exec(e[r].src);if(i)return i[2]}return null},getUserCityId:function(){return this.getCookie("__cid")},getUserCityName:function(){var t=this.getCookie("__cid");return!isNaN(t)&&t>=1&&t<=this.cityNames.length?this.cityNames[t-1]:null},getUserName:function(){var t=this.getCookie("user");if(null==t)return null;var e=this.getPartCookie("user","w");return e},getUserId:function(){var t=this.getCookie("user");if(null==t)return null;var e=this.getPartCookie("user","id");return e},getKey:function(){var t=this.getCookie("temp");if(null==t)return null;var e=this.getPartCookie("temp","k");return e},getSysGrad:function(){var t=this.getCookie("temp");if(null==t)return null;var e=this.getPartCookie("temp","s");return e},getCookieTempTime:function(){var t=this.getCookie("temp");if(null==t)return 1e9;var e=this.getPartCookie("temp","t");return e},getCookieCheckKey:function(){var t=this.getCookie("temp");if(null==t)return null;var e=this.getPartCookie("temp","b");return e},getCookieCstmTime:function(){var t=this.getCookie("time");return t?this.getPartCookie("time","ct"):null},setCookieCstmTime:function(t){this.updatePartCookie("time","ct",t)},isOnline:function(){return this._isOnline=!1,this._cookieTempTime=this.getCookieTempTime(),-1!=this._cookieTempTime&&!isNaN(this.getUserId())&&this.getUserId()>0&&!isNaN(this.getKey())&&this.getKey()>0&&(this._isOnline=!0),this._isOnline},IsLoadReadCookieFile:!0,refreshCookie:function(){var t=this.getCookieCstmTime(),e=(new Date).getTime()/1e3;t&&e-t>7200&&document.write('<script charset="utf-8" src="'+(location.protocol||"http:")+"//passport.tianya.cn/refresh.jsp?loginFrom="+encodeURIComponent(window.location.href)+'"></script>'),this.setCookieCstmTime(e)},updatePartCookie:function(t,e,n){this.setPartCookieNoEscape(t,e,n,this.getCookieDaysLeft(),"/",this.getRootDomain(),!1)},getRootDomain:function(){var t=document.domain.split(".");return"."+t[t.length-2]+"."+t[t.length-1]},getCookieDaysLeft:function(){var t=this.getPartCookie("time","et"),e=30;return t&&(e=-1==t?t:(t-(new Date).getTime()/1e3)/86400),e},isVipUser:function(t,e){if(!__global.isOnline())return t&&t(-1),!1;"undefined"==typeof e&&(e=1);var n="vip",r=__global.getPartCookie("temp","k"),i="//www.tianya.cn/api/vas?method=vipUser.isVipUser&var=g_vip&t="+Math.random(),o=__global.getPartCookie(n,r);o=null!==o?parseInt(o,10):o,(e===!0||null===o||o)&&(null===o||e>0)?TY.loadUrl(i,function(){"undefined"!=typeof g_vip&&(1==g_vip.success?(o=g_vip.data.isVipUser+0,__global.setCookie(n,r+"="+o,1,"/",document.domain),t&&t(o)):t&&t(-1))}):t&&t(o)}};__global.refreshCookie(),function(){try{var t=navigator.userAgent.toLowerCase(),e=null,n=0;if(e=t.match(/msie ([\d.]+)/),n=e?parseInt(e[1],10):0,6==n)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(r){}}catch(r){}}(),TY.crossSender=function(){function createIfr(t,e,n,r){var i=document.createElement("iframe");return i.id=i.name=e,i.style.width=i.style.height="0",i.style.display="none",i.src=n,r&&(i.proxyReady=function(){r(i)}),t.appendChild(i),i}function fillForm(t,e){t="string"==typeof t?document.getElementById(t):t;var n=[];for(var r in e)n.push('<input type="hidden" value="'+e[r]+'" name="'+r+'" />');t.innerHTML=n.join("")}function form(t){function e(t){var e=document.createElement("form");e.action=n,e.name=e.id=form_name+ifm_id,e.method=i||"POST",e.enctype="multipart/form-data",fillForm(e,r),o&&(e.target=ifm_name+ifm_id,t.callback=function(n){o(n),TY(e).remove(),TY(t).remove()}),a.appendChild(e),e.submit()}var n=t.url,r=t.data||{},i=t.method||"POST",o=t.onSuccess||null,a=document.getElementById("_ifm_for_div");a||(a=document.createElement("div"),a.id="_ifm_for_div",document.body.appendChild(a));var s=++ifm_id,u=ifm_name+s;return o?createIfr(a,u,"/form_proxy.html",e):e(),ifm_id}function ajax(o){var cbk=o.onSuccess||function(){},url=o.url,url_json=TY.param.URI(url),ifr_id="proxy_cajax_ifm_"+url_json.host;o.onSuccess=function(xhr){var str=xhr.responseText,ret=str;switch(o.dataType){case"script":str=str.replace(/<script (type="text\/javascript")?>/g,"").replace(/<\/script>/g,""),eval("ret="+str.substr(str.indexOf("=")+1));break;case"jsonp":var pos=str.indexOf("("),r_pos=str.lastIndexOf(")");str=str.substr(pos+1,r_pos-pos-1);case"json":try{ret=JSON.parse(str)}catch(e){eval("ret ="+str)}break;default:ret=str}cbk(ret,xhr)};var ifr=document.getElementById(ifr_id),fload=function(){if("undefined"==typeof ifr.contentWindow||"undefined"==typeof ifr.contentWindow.ajax)return void window.setTimeout(arguments.callee,100);if("object"==typeof o.data){var t=TY.param.makeJson2Str(o.data);"POST"==o.method?o.data=t:url+=(url.indexOf("?")>-1?"&":"?")+t}ifr.contentWindow.ajax(url,o)};ifr?fload():ifr=createIfr(document.body,ifr_id,url_json.protocol+"://"+url_json.host+"/ajax_proxy.html",fload)}var pub={},ifm_id=0,ifm_name="_fp_frm_",form_name="form_";return pub.ajax=ajax,pub.form=form,pub}();var TY=TY||{};!function(){if(!TY.Deferred){var t="done fail isResolved isRejected promise then always pipe".split(" "),e=[].slice,n={};n.extend=TY.extend||function(t,e){t=t||{};for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n])},TY.extend2=n.extend,n.extend(n,{type:TY.type||function(t){return null===t?"null":void 0===t?"undefined":Object.prototype.toString.call(t).slice(8,-1).toLowerCase()},isFunction:TY.isFunction||function(t){return"function"===jQuery.type(t)},each:TY.each||function(t,e){for(name in t)e.call(t[name],name,t[name])}}),TY.type=n.type,n.extend(TY,{_Deferred:function(){var t,e,r,i=[],o={done:function(){if(!r){var e,a,s,u,c,l=arguments;for(t&&(c=t,t=0),e=0,a=l.length;a>e;e++)s=l[e],u=n.type(s),"array"===u?o.done.apply(o,s):"function"===u&&i.push(s);c&&o.resolveWith(c[0],c[1])}return this},resolveWith:function(n,o){if(!r&&!t&&!e){o=o||[],e=1;try{for(;i[0];)i.shift().apply(n,o)}finally{t=[n,o],e=0}}return this},resolve:function(){return o.resolveWith(this,arguments),this},isResolved:function(){return!(!e&&!t)},cancel:function(){return r=1,i=[],this}};return o},Deferred:function(e){var r,i=TY._Deferred(),o=TY._Deferred();return n.extend(i,{then:function(t,e){return i.done(t).fail(e),this},always:function(){return i.done.apply(i,arguments).fail.apply(this,arguments)},fail:o.done,rejectWith:o.resolveWith,reject:o.resolve,isRejected:o.isResolved,pipe:function(t,e){return TY.Deferred(function(r){n.each({done:[t,"resolve"],fail:[e,"reject"]},function(t,e){var o,a=e[0],s=e[1];i[t](n.isFunction(a)?function(){o=a.apply(this,arguments),o&&n.isFunction(o.promise)?o.promise().then(r.resolve,r.reject):r[s+"With"](this===i?r:this,[o])}:r[s])})}).promise()},promise:function(e){if(null==e){if(r)return r;r=e={}}for(var n=t.length;n--;)e[t[n]]=i[t[n]];return e}}),i.done(o.cancel).fail(i.cancel),delete i.cancel,e&&e.call(i,i),i},when:function(t){function r(t){return function(n){i[t]=arguments.length>1?e.call(arguments,0):n,--s||u.resolveWith(u,e.call(i,0))}}var i=arguments,o=0,a=i.length,s=a,u=1>=a&&t&&n.isFunction(t.promise)?t:TY.Deferred();if(a>1){for(;a>o;o++)i[o]&&n.isFunction(i[o].promise)?i[o].promise().then(r(o),u.reject):--s;s||u.resolveWith(u,i)}else u!==t&&u.resolveWith(u,a?[t]:[]);return u.promise()}})}}(),TY.module=function(){function t(t){return t}function e(e,n){var r=t(e);return TY.Deferred(function(t){var i=document.createElement("script");i.type="text/javascript",n&&(i.charset=n),i.src=r,v.appendChild(i),i.onload=i.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(m[e].loaded=!0,t.resolve())}}).promise()}function n(e,n){return e=t(e),TY.Deferred(function(t){var r=document.createElement("link");r.type="text/css",r.rel="stylesheet",n&&(r.charset=n),r.href=e,v.appendChild(r),t.resolve()}).promise()}function r(t,r,i){return r=r||t.toLowerCase().substring(t.lastIndexOf(".")+1),"undefined"==typeof m[t]&&(m[t]={path:t,type:r,charset:i}),d[t]||(d[t]=0==r.indexOf("css")?n(t,i):e(t,i)),d[t]}function i(t,e,n){e=e||[],n=n||{},n[t]=!0;var r;if("undefined"!=typeof m[t])if(r=m[t].rely){for(var i=0,o=r.length;o>i;i++)n[r[i]]!==!0&&arguments.callee(r[i],e,n);e.push(t)}else e.push(t);else e.push(t);return e}function o(t){function e(t){t?++s==u&&c.resolve():c.reject()}for(var n,i,o,a,s=0,u=t.length,c=TY.Deferred(),l=0;u>l;l++)i=t[l],o="",a="",(n=m[i]||null)&&(i=n.path,o=n.type,a=n.charset),n&&n.loaded?e(!0):r(i,o,a).then(function(){e(!0)},function(){e(!1)});return c.promise()}function a(t){function e(e){var o=t[e],a="",s="";return(i=m[o]||null)&&(o=i.path,a=i.type||"",s=i.charset||""),i&&i.loaded?void n(!0,e):void r(o,a,s).then(function(){n(!0,e)},function(){n(!1,e)})}function n(t,n){t?++n<o?e(n):a.resolve():a.reject()}var i,o=t.length,a=TY.Deferred();return e(0),a.promise()}function s(t,e){return e?a(t):o(t)}function u(t,e){var n=!1,i=r(t);i.done(function(){n=!0,e&&e(!0)}),setTimeout(function(){n||e&&e(!1)},g)}function c(t,e,n){var r=!1,i=s(t,n);TY.when(i).done(function(){r=!0,e(!0)}).fail(function(){r=!1,e(!1)}),setTimeout(function(){r||e(!1)},g)}function l(t,e){if(e=e||function(){},"undefined"==typeof m[t])return void e(!1);if(TY.module.isLoadedInterface(t))return void e(!0);var n=i(t);c(n,e,!0)}function f(t,e){function n(t){t?++r==i&&e(!0):e(!1)}var r=0,i=t.length;e=e||function(){};for(var o=0;i>o;o++)l(t[o],n)}function h(t,e){function n(i,o){i?r>o?l(t[o],function(t){n(t,++o)}):e(!0):e(!1)}var r=t.length;n(!0,0)}function p(t,e,n){t.length,e=e||function(){},n?h(t,e):f(t,e)}var d={},m={},g=1e4,v=document.head||document.getElementsByTagName("head")[0],y={add:function(t,e){var n=m[t]||{};TY.extend(n,e),m[t]=n},loadInterface:function(t,e,n,r){g=r||g,e=e||function(){},"string"==TY.type(t)?l(t,e,!0):"array"==TY.type(t)?p(t,e,n):e(!1)},loadUrl:function(t,e,n,r){g=r||g,e=e||function(){},"string"==TY.type(t)?u(t,e):"array"==TY.type(t)&&c(t,e,n)},getInterface:function(){return m},loadedInterface:function(t){var e=m;"undefined"==typeof e[t]&&(e[t]={}),e[t].loaded=!0},isLoadedInterface:function(t){var e=m;return"undefined"!=typeof e[t]&&e[t].loaded?!0:!1},registerInterface:function(t,e,n){var r,i,o,a=(new Date).getTime()/1e3;for(var s in t)i=parseInt(t[s].cache||null,10),r=n+t[s].path,o=s.split("."),o>1&&"TY"==o[0]&&"undefined"==typeof TY[o[1]]&&(TY[o[1]]={}),r+=isNaN(i,10)?"?_v="+e:"?_t="+parseInt(i?a/i:a,10),t[s].path=r,TY.module.add(s,t[s])}};return y.init=TY.module&&TY.module.init||function(){},y}(),TY.module.init(),TY.extend(TY,{TY_interface:function(){var t,e=new Date,n="TY.core.interface",r="//static.tianyaui.com/global/ty2.0/core/core_interface.js";return t={path:r+"?_v="+e.TY_format("yyyydh"),rely:null,type:"js",charset:"utf-8"},TY.module.add(n,t),n}(),_getPara:function(t){var e={args:null,cbk:function(){},seq:!0},n=t.length-1;return n>=0&&"number"===TY.type(t[n])&&(e.waitTime=t[n--]),n>=0&&"boolean"===TY.type(t[n])&&(e.seq=t[n--]),n>=0&&"function"===TY.type(t[n])&&(e.cbk=t[n--]),0>n?!1:(e.args=Array.prototype.slice.call(t,0,n+1),"array"==typeof e.args[0]&&(e.args=e.args[0]),e)},_loaderBack:function(t,e){for(var n=[],r=0,i=t.length;i>r;r++){for(var o=t[r].split("."),a=window,s=0,u=o.length;u>s;s++)a=a&&"undefined"!=typeof a[o[s]]?a[o[s]]:null;n.push(a)}e.apply(this,n)},_isInterfaceRegiser:function(t){for(var e=TY.module.getInterface()||{},n=0,r=0,i=t.length;i>r;r++)"undefined"!=typeof e[t[r]]&&n++;return i==n?!0:!1},loader:function(){function t(){e._loaderBack(n.args,n.cbk)}var e=this,n=e._getPara(arguments),r=e.TY_interface;if(n!==!1){var i=n.args;e._isInterfaceRegiser(i)?TY.module.loadInterface(i,t,n.seq):TY.module.isLoadedInterface(r)?n.cbk(!1):TY.module.loadInterface(r,function(r){r&&e._isInterfaceRegiser(i)?TY.module.loadInterface(i,t,n.seq):n.cbk(!1)})}},loadUrl:function(){var t=this._getPara(arguments);t!==!1&&TY.module.loadUrl(t.args,t.cbk,t.seq,t.waitTime)},isLoadedModule:function(t){return TY.module.isLoadedInterface(t)},loadedModule:function(t){TY.module.loadedInterface(t)}}),function(){var t,e,n=["loadUrl","loader"];if((e=TY._args)&&(t=e.length))for(var r=0;t>r;r+=2)TY[n[e[r]]].apply(TY,e[r+1])}(),TY.namespace("widget"),TY.param=TY.param,TY.extend(TY.param,{getParam:function(t,e){var n=TY.param.getHrefParam(e);return t?n[t]:n}}),TY.extend(!0,TY,{location:{protocol:function(t){return(t||document.location.href).match(/^([^:]+):\/\//)[1]},host:function(t){return t?t.match(/^[^:]+:\/\/([^\/:]+)(?:\:\d+)?(?:\/.*)?$/)[1]:document.location.host},port:function(t){var e=(t||document.location.href).match(/^[^:]+:\/\/(?:\w+\.)+\w+\:(\d+)(?:\/.*)?$/);return e?e[1]:"80"},getParam:function(t){var e=new RegExp("[&?#]"+t+"=([^#&?]*)","i"),n=e.exec(document.location.search),r=e.exec(document.location.hash);return r?r[r.length-1]:n?n[n.length-1]:null},getHash:function(t){var e=(t||location.href).match("#.*$");return e&&e.length>0?e[0]:""},setHash:function(t,e){var n=location.hash.substr(1),r=new RegExp("("+t+"=)([^&]*)");e=e||"",r.test(n)?n=n.replace(r,function(t,n){return n+e}):n+=(""==n?"":"&")+t+"="+e,location.hash=n},getPath:function(t){var e,n,r=t||location.href;return e=(n=r.indexOf("#!"))>-1?r.substring(n+2,r.length):r.replace(this.protocol()+"://"+location.host,"")},matcher:function(t,e){var n=e?t:this.protocol()+"://"+location.host,r=e||t;return location.hash.indexOf("#!")>-1&&(n=n+location.pathname+"#!"),this.matchUrl(location.href,n+r)},matchUrl:function(t,e){var n=[];e=e.replace(/([\^$*+?|-])/g,"\\$1").replace(/{([^}]+)}/g,function(t,e){return n.push(e),"([^/&#]+)"});var r=new RegExp("^"+e+"/?$");if(r.test(t)){for(var i=t.match(r).slice(1,n.length+1),o={},a=0;a<i.length;a++)o[n[a]]=i[a];return o}return void 0}}}),TY.namespace("util"),TY.util=TY.util,TY.extend(TY.util,{isFinite:function(t){return isFinite(t)},console:function(t){if("undefined"!=typeof console)if("object"==typeof t)if(t.title&&t.msg)console.log(t.title),console.log(t.msg);else{var e;for(e in t)console.log(e+" : "+t[e])}else console.log(t)},getPropertyCount:function(t){var e,n=0,r=TY.type(t);switch(r){case"object":for(e in t)t.hasOwnProperty(e)&&n++;break;case"array":n=t.length;break;default:n=t.length}return n},replaceTag:function(t,e){var n=/(\<.*?\>)|(\<\/,*?\>)|(\<.*?\/\>)/g;return t.replace(n,e||"")},format:function(t,e){return 1==arguments.length?function(){var e=TY.makeArray(arguments);return e.unshift(t),TY.validator.format.apply(this,e)}:(arguments.length>2&&e.constructor!=Array&&(e=TY.makeArray(arguments).slice(1)),e.constructor!=Array&&(e=[e]),TY.each(e,function(e,n){t=t.replace(new RegExp("\\{"+e+"\\}","g"),n)}),t)},notNull:function(t){if(!t)return!1;switch(TY.type(t)){case"object":return 0!=TY.util.getPropertyCount(t);case"array":return 0!=t.length;default:return null!=t}},clearTimer:function(t){return clearTimeout(t),clearInterval(t),null},getElRealSize:function(t,e){if(t){var n={};return"undefined"==typeof e&&(e=!1),e?(n.height=t.height()+(parseFloat(t.css("borderTopWidth"))||0)+(parseFloat(t.css("borderBottomWidth"))||0)+(parseFloat(t.css("paddingTop"))||0)+(parseFloat(t.css("paddingBottom"))||0)+(parseFloat(t.css("marginTop"))||0)+(parseFloat(t.css("marginBottom"))||0),n.width=t.width()+(parseFloat(t.css("paddingLeft"))||0)+(parseFloat(t.css("paddingRight"))||0)+(parseFloat(t.css("borderLeftWidth"))||0)+(parseFloat(t.css("borderRightWidth"))||0)+(parseFloat(t.css("marginLeft"))||0)+(parseFloat(t.css("marginRight"))||0)):(n.height=t.height()+(parseFloat(t.css("borderTopWidth"))||0)+(parseFloat(t.css("borderBottomWidth"))||0)+(parseFloat(t.css("paddingTop"))||0)+(parseFloat(t.css("paddingBottom"))||0),n.width=t.width()+(parseFloat(t.css("paddingLeft"))||0)+(parseFloat(t.css("paddingRight"))||0)+(parseFloat(t.css("borderLeftWidth"))||0)+(parseFloat(t.css("borderRightWidth"))||0)),n}return null},getResourcePath:function(t){function e(t,e){var n,r,i="";if("js"===t){n=document.getElementsByTagName("script");for(var o=0,a=n.length;a>o;o++)if(r=n[o].src,"text/javascript"==n[o].type.toLowerCase()&&-1!=r.indexOf(e)){i=r.slice(0,r.lastIndexOf("/")),r=n=null;break}}else{n=document.getElementsByTagName("link");for(var o=0,a=n.length;a>o;o++)if(r=n[o].href,"text/css"==n[o].type.toLowerCase()&&-1!=r.indexOf(e)){i=r.slice(0,r.lastIndexOf("/")),r=n=null;break}}return i}var n=/\.css/gi,r=/\.js/gi;if(t)if("string"===TY.type(t)){if(t=t.toLowerCase(),n.test(t))return e("css",t);if(r.test(t))return e("js",t)}else TY.util.console("传入的name类型错误，请传入string类型的参数。");else TY.util.console("未传入name")},scopeProxy:function(t,e){return function(){return t.apply(e,arguments)}},getSelectTxt:function(){var t="";return t=document.selection?document.selection.createRange().text:document.getSelection(),t.toString()},tmplFormat:function(t,e){return t.replace(/{(.*?)}/gim,function(t,n){return e[n]?e[n]:t})}}),TY.extend(!0,{util:{DateFormatter:{ts2TDate:function(t,e){var n=new Date(+t),r=n.getFullYear(),i=(n.getMonth()+1).toString().leftFix("0",2),o=n.getDate().toString().leftFix("0",2),a=[n.getHours().toString().leftFix("0",2),":",n.getMinutes().toString().leftFix("0",2)].join(""),s=new Date,u=s.getFullYear(),c=s.getMonth(),l=s.getDate(),f=[];n.setHours(0),n.setMinutes(0),n.setSeconds(0);var h=new Date(u,c,l).getTime()-n,p=864e5,d=1728e5;return 0>=h?(f.push("今天"),f.push(a)):h==p?(f.push("昨天"),f.push(a)):h==d?(f.push("前天"),f.push(a)):r==u?(f.push([i,"月",o,"日"].join("")),e&&f.push(a)):(f.push([r,"年",i,"月"+o,"日"].join("")),e&&f.push(a)),f.join("")}}}}),TY.namespace("util.event"),TY.util.event=TY.util.event,TY.extend(TY.util.event,{stopBubble:function(t){t&&t.stopPropagation?t.stopPropagation():window.event.cancelBubble=!0},stopPrevent:function(t){return t&&t.preventDefault?t.preventDefault():window.event.returnValue=!1,!1}}),"undefined"==typeof window.TY.util.proxy&&(TY.util.proxy=function(){this.tryTimes=0,this.fn.apply(this,arguments)}),TY.extend(TY.util.proxy.prototype,{tryMaxTimes:5,fn:function(){try{var t=arguments,e=null,n=this,r=null;if("object"==typeof t[0]){try{r=frames[t[0].name],e=frames[t[0].name]&&frames[t[0].name].jQuery,"undefined"!=typeof t[0].charset&&(document.charset=t[0].charset)}catch(i){TY.util.console({title:"取得代理",msg:i})}if(this.tryMaxTimes=t[0].times||this.tryMaxTimes,e){TY.util.console({title:"取得代理",msg:"成功"});var o=Array.prototype.slice.call(t,0);o=o.slice(2),e[t[1]].apply(e,o)}else r||jQuery("body").append('<iframe src="'+t[0].path+'" name="'+t[0].name+'" style="display:none"></iframe>'),this.tryTimes++<this.tryMaxTimes&&setTimeout(function(){t.callee.apply(n,t)},500)}}catch(i){TY.util.console({title:"代理错误",msg:i})}}}),TY.namespace("mobile"),TY.extend(TY.mobile,{_isMobile:!1,checked:!1,core:"not Mobile",isMobile:function(){if(this.checked)return this._isMobile;var t=navigator.userAgent.toLowerCase();this.version=t,this.browser={isIpad:"ipad"==t.match(/ipad/i),isIphoneOs:"iphone os"==t.match(/iphone os/i),isMidp:"midp"==t.match(/midp/i),isUc7:"rv:1.2.3.4"==t.match(/rv:1.2.3.4/i),isUc:"ucweb"==t.match(/ucweb/i),isAndroid:"android"==t.match(/android/i),isCE:"windows ce"==t.match(/windows ce/i),isWP:"windows phone"==t.match(/windows phone/i),isWM:"windows mobile"==t.match(/windows mobile/i)};for(var e in this.browser)if(this.browser[e]){this.core=e,this._isMobile=!0;break}return this.checked=!0,this._isMobile}}),__global.isInTYAPP=function(){if(!TY.mobile.isMobile())return!1;var t=window.navigator.userAgent.toLowerCase(),e=/tianyacommunity|tianyadaily/,n=t.match(e);return n?n[0]:!1},__global.isInWeiXin=function(){var t=window.navigator.userAgent.toLowerCase();return"micromessenger"==t.match(/MicroMessenger/i)},__global.hideHeader=function(){var t=document.domain,e=/tianya.cn/,n=null;if(t.match(e)&&__global.isInTYAPP()){if(n=TY("header"),n.size()||(n=TY(".hd-center,.dsHd,#top_bar")),!n.size())return!1;n.hide()}},__global.hideHeader()===!1&&TY("body").ready(function(){__global.hideHeader()}),"undefined"==typeof TY.clickStat&&(TY.clickStat=function(t){var e="//collect.tianya.cn/newAccess.jsp?p="+t,n=document.createElement("img");n.src=e,n.onload=n.onerror=function(){n=null}}),"undefined"==typeof TY.getScript&&(TY.getScript=TY.loadUrl);